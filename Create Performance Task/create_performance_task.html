<!DOCTYPE html>
<html>

<head>
    <title>PF Debate Timer</title>
    <style>
        body {
            padding: 15px 0;
            border: 10px double rgb(25, 0, 255);
            text-align: center;
            background: rgb(0, 195, 255);
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            color: rgb(1, 37, 0)
        }

        table {
            margin-left: auto;
            margin-right: auto;
        }
    </style>
    <script>
        let startTime;
        let stopwatchInterval;
        let elapsedPausedTime = 0;
        let speechList = []
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        function instructions() {
            idDivInstructions.innerHTML = "This is a PF Debate Timer to assist you in your debate rounds. First Choose Sides and then the constructive speech timer will appear. Press Next to move on to the next speech, all speech times will be displayed at the end"
        }
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        function chooseSide() {
            let selected1 = argueTeam1.value
            let selected2 = argueTeam2.value
            if (selected1 == "Con") {
                team1Id.innerHTML = "Con"
            }
            else if (selected1 == "Pro") {
                team1Id.innerHTML = "Pro"
            }

            if (selected2 == "Con") {
                team2Id.innerHTML = "Con"
            }
            else if (selected2 == "Pro") {
                team2Id.innerHTML = "Pro"
            }
        }
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        function speeches() {
            chooseSide()
            idDivSpeeches.innerHTML = ""
            let everySpeech = "<br>" + "<br>" + team1Id.innerHTML + " Constructive: " + "<input type='button' value='Start' id='idStartTimer' onclick='startStopwatch()'>";
            everySpeech += "<input type='button' value='Stop' id='idStop Timer' onclick='stopStopwatch()'>";
            everySpeech += "<input type='button' value='Reset' id='idResetTimer' onclick='resetStopwatch()'>" + "<br>" + "<br>";
            everySpeech += "<input type='button' value='Save' id='idSaveTimer' onclick='saveStopwatch()'>";

            idDivSpeeches.innerHTML = everySpeech
        }
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        function next(event) {
            pressKey = event.key

            let number = 0
            let everySpeech = ""
            idDivSpeeches.innerHTML = ""
            if (pressKey == "n") {
                if (number == 0) {
                    everySpeech = "<br>" + "<br>" + team2Id.innerHTML + " Constructive: ";
                }
                else if (number == 1) {
                    everySpeech = "<br>" + "<br>" + "1st Cross: ";
                }
                else if (number == 2) {
                    everySpeech = "<br>" + "<br>" + team1Id.innerHTML + " Rebuttal: ";
                }
                else if (number == 3) {
                    everySpeech = "<br>" + "<br>" + team2Id.innerHTML + " Rebuttal: ";
                }
                else if (number == 4) {
                    everySpeech = "<br>" + "<br>" + "2nd Cross: ";
                }
                else if (number == 5) {
                    everySpeech = "<br>" + "<br>" + team1Id.innerHTML + " Summary: ";
                }
                else if (number == 6) {
                    everySpeech = "<br>" + "<br>" + team2Id.innerHTML + " Summary: ";
                }
                else if (number == 7) {
                    everySpeech = "<br>" + "<br>" + "Grand Cross: ";
                }
                else if (number == 8) {
                    everySpeech = "<br>" + "<br>" + team1Id.innerHTML + " Final Focus: ";
                }
                else if (number == 9) {
                    everySpeech = "<br>" + "<br>" + team2Id.innerHTML + " Final Focus: "
                }
                everySpeech += "<input type='button' value='Start' id='idStartTimer' onclick='startStopwatch()'>";
                everySpeech += "<input type='button' value='Stop' id='idStopTimer' onclick='stopStopwatch()'>";
                everySpeech += "<input type='button' value='Reset' id='idResetTimer' onclick='resetStopwatch()'>" + "<br>" + "<br>";
                everySpeech += "<input type='button' value='Save' id='idSaveTimer' onclick='saveStopwatch()'>";
                number = number + 1
                idDivSpeeches.innerHTML = everySpeech
            }
        }
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        // https://www.educative.io/answers/how-to-create-a-stopwatch-in-javascript
        // Wesbite used to create stopwatch; update code comments later
        function startStopwatch() {
            if (!stopwatchInterval) {
                startTime = new Date().getTime() - elapsedPausedTime; // get the starting time by subtracting the elapsed paused time from the current time
                stopwatchInterval = setInterval(updateStopwatch, 1000); // update every second
            }
        }
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        function stopStopwatch() {
            clearInterval(stopwatchInterval); // stop the interval
            elapsedPausedTime = new Date().getTime() - startTime; // calculate elapsed paused time
            stopwatchInterval = null; // reset the interval variable
        }
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        function resetStopwatch() {
            stopStopwatch(); // stop the interval
            elapsedPausedTime = 0; // reset the elapsed paused time variable
            document.getElementById("stopwatch").innerHTML = "00:00:00"; // reset the display
        }
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        function updateStopwatch() {
            var currentTime = new Date().getTime(); // get current time in milliseconds
            var elapsedTime = currentTime - startTime; // calculate elapsed time in milliseconds
            var seconds = Math.floor(elapsedTime / 1000) % 60; // calculate seconds
            var minutes = Math.floor(elapsedTime / 1000 / 60) % 60; // calculate minutes
            var hours = Math.floor(elapsedTime / 1000 / 60 / 60); // calculate hours
            var displayTime = pad(hours) + ":" + pad(minutes) + ":" + pad(seconds); // format display time
            document.getElementById("stopwatch").innerHTML = displayTime; // update the display
        }
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        function pad(number) {
            // add a leading zero if the number is less than 10
            return (number < 10 ? "0" : "") + number;
        }
        // Description:
        // Citation:
        // Input/Parameters:
        // Output/Return:
        function saveStopwatch(){
            speechList = [team1Id.innerHTML + " Constructive:", team2Id.innerHTML + " Constructive:", "1st Cross:", team1Id.innerHTML + " Rebuttal:", team2Id.innerHTML + " Rebuttal:", "2nd Cross:", team1Id.innerHTML + " Summary:", team2Id.innerHTML + " Summary:", "Grand Cross", team1Id.innerHTML + " Final Focus:", team2Id.innerHTML + " Final Focus:"]
            speechList.splice(1, document.getElementById("stopwatch").innerHTML)
            console.log(speechList)
        }
            // Requirments:
            // Instructions for input from one of the following:
                // the user (including user actions that trigger events)
                // a device
                // an online data stream
                // a file
            // A list
            // At least one procedure that contributes to the program’s intended purpose, where you have defined:
                // the procedure’s name
                // the return type (if necessary)
                // one or more parameters
            // An algorithm that includes sequencing, selection, and iteration that is in the body of the selected procedure
            // Calls to your student-developed procedure
            // Instructions for output (tactile, audible, visual, or textual) based on input and program functionality
    </script>
</head>

<body onkeyup="next(event)">
    <h1>PF Debate Timer</h1>
    <div id="idDivInstructions"></div>
    <table>
        <tr>
            <th><span id="team1Id">Team 1</span></th>
            <th><span id="team2Id">Team 2</span></th>
        </tr>
        <tr>
            <th><select id="argueTeam1">
                    <option value="" disabled selected hidden>Choose Side</option>
                    <option>Con</option>
                    <option>Pro</option>
                </select>
            </th>
            <br>
            <th><select id="argueTeam2">
                    <option value="" disabled selected hidden>Choose Side</option>
                    <option>Con</option>
                    <option>Pro</option>
                </select>
            </th>
        </tr>
    </table>
    <input type="button" value="Choose Sides" onclick="speeches()">
    <div id="idDivSpeeches"></div>
    <div id="stopwatch">00:00:00</div>
    <div id="idDivNext">Press 'n' to move on to the next speech</div>
</body>

</html>